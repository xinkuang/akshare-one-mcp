# china-stock-mcp v0.1 发布说明

**发布日期**: 2025-09-02

## 项目简介

china-stock-mcp 是一款基于 [akshare-one](https://github.com/zwldarren/akshare-one) 构建的 MCP (Model Context Protocol) 服务器，专为中国股市数据提供接口。该工具旨在为 AI 助手（如 Claude、Cursor 等）提供全面、准确的中国股市数据支持，帮助用户更好地进行投资分析和决策。

通过 china-stock-mcp，用户可以轻松获取历史股票数据、实时行情、财务报表、新闻资讯等各类信息，极大地简化了数据获取流程，让 AI 助手能够直接访问专业级的金融数据。

## 核心功能

- **双模式运行**: 支持 stdio 本地模式和 HTTP 网络模式，满足不同使用场景的需求
- **丰富的财务数据**: 涵盖 A/B/H 股数据的全方位获取，支持上证、深证、中小板、创业板、新三板等各类市场
- **实时数据**: 支持实时股价、交易信息等，确保数据的时效性
- **财务报表**: 提供资产负债表、利润表、现金流量表等关键财务报表数据
- **技术指标**: 34 种技术指标自动计算和添加，包括 SMA、EMA、RSI、MACD、BOLL 等常用指标
- **新闻数据**: 获取股票相关新闻和公告信息，帮助用户了解市场动态
- **易用性**: 简单配置即可集成到 AI 助手 (Claude、Cursor 等)，提供无缝的数据访问体验
- **容器化**: 支持 Docker 部署，便于在不同环境中快速部署和运行

## 可用工具

### 1. 获取历史行情数据 (get_hist_data)
获取股票的历史行情数据，支持多种数据源和技术指标。用户可以指定时间周期、复权类型等参数，获取定制化的数据。

### 2. 获取实时行情数据 (get_realtime_data)
获取股票的实时行情数据，支持多种数据源。提供最新的股价、成交量等交易信息。

### 3. 获取新闻数据 (get_news_data)
获取股票相关的新闻数据，帮助用户了解公司最新动态和市场资讯。

### 4. 获取资产负债表 (get_balance_sheet)
获取公司的资产负债表数据，为财务分析提供基础数据支持。

### 5. 获取利润表 (get_income_statement)
获取公司的利润表数据，帮助用户分析公司的盈利能力。

### 6. 获取现金流量表 (get_cash_flow)
获取公司的现金流量表数据，为评估公司现金流状况提供依据。

### 7. 获取内部交易数据 (get_inner_trade_data)
获取公司的内部交易数据，帮助用户了解公司内部人员的交易行为。

### 8. 获取财务指标 (get_financial_metrics)
获取三大财务报表的关键财务指标，为综合财务分析提供支持。

### 9. 获取时间信息 (get_time_info)
获取当前时间的ISO格式、时间戳和最近的交易日，为时间相关的分析提供支持。

### 10. 获取股票基本概要信息 (get_stock_basic_info)
获取指定股票的基本概要信息，支持 A 股和港股，提供公司基本信息。

### 11. 获取宏观经济数据 (get_macro_data)
获取宏观经济数据，包括货币供应量、GDP、CPI、PMI等指标，帮助用户了解宏观经济环境。

### 12. 分析散户和机构投资者投资情绪 (get_investor_sentiment)
分析散户和机构投资者的投资情绪，包括散户关注度、看涨情绪、北向资金流动、机构调研等，为市场情绪分析提供数据支持。

### 13. 获取股东情况 (get_shareholder_info)
获取指定股票的股东情况，包括十大流通股东、十大股东、股东户数、股权质押等，帮助用户了解公司股权结构。

### 14. 获取产品情况 (get_product_info)
获取指定股票公司的主要产品或业务构成，包括主营构成、产品类型、行业分类等，帮助用户了解公司业务结构。

## 安装和运行

### 方法一: 使用 Smithery（推荐）
通过 [Smithery](https://smithery.ai/server/@xinkuang/china-stock-mcp) 自动安装到 Claude Desktop：

```bash
npx -y @smithery/cli install @xinkuang/china-stock-mcp --client claude
```

### 方法二: 使用 Docker
#### 1. 拉取镜像
```bash
docker pull ghcr.io/xinkuang/china-stock-mcp:latest
```

#### 2. 运行容器
```bash
docker run -p 8081:8081 ghcr.io/xinkuang/china-stock-mcp:latest
```

### 方法三: 本地源代码安装
#### 1. 环境要求
- Python 3.12+
- Git
- uv (推荐的 Python 包管理器)

#### 2. 克隆仓库
```bash
git clone https://github.com/xinkuang/china-stock-mcp
cd china-stock-mcp
```

#### 3. 安装依赖
```bash
# 推荐使用 uv 包管理器
uv sync

# 或者使用 pip
pip install -r requirements.txt
```

#### 4. 运行服务器
**stdio 模式 (默认，适用于本地 MCP 客户端):**
```bash
china-stock-mcp
# 或
python -m china-stock-mcp
```

**HTTP 模式 (适用于远程访问):**
```bash
china-stock-mcp --streamable-http --host 0.0.0.0 --port 8081
```

服务器将在 `http://localhost:8081/mcp` 提供服务。

## 数据支持范围

### 股票市场
- A股 (上证、深证)
- B股
- H股 (港股)
- 中小板、创业板、新三板

### 数据类型
- 历史行情数据 (分钟级、小时级、日级、周级、月级、年级)
- 实时行情数据
- 技术指标计算
- 新闻资讯
- 财务报表 (资产负债表、利润表、现金流量表)
- 财务指标
- 内部交易数据

## 已知问题和限制

1. 部分数据源可能存在访问限制或需要特定网络环境
2. 实时数据的更新频率依赖于数据提供商
3. 某些财务数据可能存在延迟
4. 部分接口可能因数据源变化而需要调整

## 后续计划

1. 增加更多技术指标支持，扩展至 50+ 种
2. 扩展国际市场数据支持，包括美股、日股等
3. 优化数据获取性能，提高响应速度
4. 增强错误处理和日志记录，提高系统稳定性
5. 提供更多示例和使用场景，完善文档
6. 增加数据缓存机制，减少重复请求
7. 支持更多的数据源选项，提高数据可靠性

## 贡献

欢迎提交 Issue 和 Pull Request！我们鼓励社区参与，共同完善 china-stock-mcp 项目。

如果您有任何建议或发现了问题，请在 GitHub 上提交 issue。如果您希望贡献代码，请 fork 项目并提交 pull request。